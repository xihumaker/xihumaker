<html>
<head>
<title>别踩白块儿</title>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="format-detection" content="telephone=no" />
<meta http-equiv="mobile-agent" content="format=html5; url=http://m.9g.com">
<style type="text/css">
*{margin:0;padding:0;}
</style>

</head>
<body bgcolor=#000000  scroll="no"  style="overflow-x:hidden;overflow-y:hidden;">
<div id=GameBox style="position:absolute;top:0;left:0">
<canvas id="Canvas"  style="position:absolute;top:0;left:0" width=640 height=640></canvas>
<input type=text name="Nickname" value="" id="Nickname"   style="border:1px;border-bottom-style:none;border-top-style:none;border-left-style:none;border-right-style:none;position:absolute;top:0;left:0;color:000000;display:none"> 
</div>
<script language=javascript>
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('k 6={1t:{},1Y:1W,F:0,E:0,1h:1,1a:"",2b:30,r:0,j:1,u:0,1f:0,W:0,1n:0,1s:1b,11:1j,Y:1b,x:"X",1l:C 1F(),3v:C 1F(),2N:C 1F(),M:0,I:0,1v:0,29:v(){k a=6.F=2q.2i.3c;k b=6.E=2q.2i.3b;k c=a;7(b<a){c=b;$("2j").A.2l=(a-b)/2}q{$("2j").A.2m=(b-a)/2};6.1h=c/p;$("1z").A.F=c;$("1z").A.E=c;$("16").A.2l=3d*6.1h;$("16").A.2m=27*6.1h;$("16").A.F=15*6.1h;$("16").A.E=42*6.1h;$("1z").A.1J=""},3f:v(){6.29();7(B.K("1K")){6.1f=B.K("1K")}q{6.1f=0};7(B.K("1N")){6.W=B.K("1N")}q{6.W=0};7(B.K("1P")){6.1n=B.K("1P")}q{6.1n=0};7(B.K("26")){6.1a=B.K("26");$("16").32=6.1a};6.2k();7(6.1A("t")=="1"){6.j=1;6.1m();y};7(6.1A("t")=="2"){6.j=2;6.1m();y};7(6.1A("t")=="3"){6.j=3;6.1m();y}},1m:v(){7(6.j==1)6.u=6.W;7(6.j==2)6.u=6.1n;7(6.j==3)6.u=6.1f;k a=6.2z("36://m.39.38/37/3q.3p?3o=3r&j="+6.j+"&3u=3t&1a="+3s(6.1a)+"&r="+6.u);k b=3j.3i(a);6.1t=b.3h;6.x="1O";6.1Y=b.1m},2k:v(){3n(6.2c,H/6.2b)},X:v(){6.x="X"},z:0,T:v(){6.r=0;6.x="T";$("16").A.1J="3m";6.1l=C 1F();6.I=0;6.z=0;6.M=0;6.1s=1b;7(6.j==1)6.u=6.W;7(6.j==2)6.u=6.1n;7(6.j==3)6.u=6.1f;1y(k a=0;a<3l;a++){6.1l[6.1l.L]=1k(2O.2R()*4)}},Z:v(){6.Y=1b;7(6.j==3&&6.r>6.u){6.u=6.1f=6.r;6.Y=1j;B.1S("1K",6.r)};7(6.j==2&&6.r>6.u){6.u=6.1n=6.r;6.Y=1j;B.1S("1P",6.r)};7(6.j==1&&!6.1s&&(6.r<6.u||6.W==0)){6.u=6.W=6.r;6.Y=1j;B.1S("1N",6.r)};6.x="Z"},28:1,2e:v(){6.28=1;6.x="2e"},2c:v(){k a=$("1z");k b=a.2P("2d");7(6.x=="X"){b.1o(0,0,a.F,a.E);b.h=\'D(J,J,J,1)\';b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(9,9);b.n(9,0);b.n(0,0);b.n(0,9);b.n(9,9);b.n(9,p);b.n(p,p);b.n(p,9);b.12();b.13();b.18();b.1g="1e";b.l=\'G o\';b.h="#1d";b.8("2V",s,15);b.l=\'G o\';b.h="#N";b.8("2U",17,15);b.8("2S",s,1x);b.l=\'31 o\';b.h="#1d";b.8("2X："+(6.11?"2M":"3W"),17,27);b.8("2p",17,3Y);b.8("2r",17,3X);b.8("2t",17,2u);y};7(6.x=="1O"){b.1o(0,0,a.F,a.E);b.h=\'D(0,0,0,1)\';b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(0,0);b.n(p,0);b.n(p,p);b.n(0,p);b.12();b.13();b.18();b.l=\'G o\';b.h="#N";b.1g="1e";7(6.j==1)b.8("2p",9,w);7(6.j==2)b.8("2r",9,w);7(6.j==3)b.8("2t",9,w);b.l=\'43 o\';b.h="#N";1y(k d=0;d<10;d++){b.8("2g"+(d+1)+"2s ",1W,U+40*d);7(d<6.1t.L){k f=6.1t[d].r;7(6.j==1)f=f/H+"\\"";b.8(6.1t[d].1a,19,U+40*d);b.8(f,1x,U+40*d)}q{b.8("--",19,U+40*d);b.8("--",1x,U+40*d)}};k e=6.u;7(6.j==1)e=e/H+"\\"";b.8("2g"+6.1Y+"2s ",1W,U+40*10);b.8(6.1a,19,U+40*10);b.8(e,1x,U+40*10);b.l=\'G o\';b.h="#2f";b.8("24",21,1X);b.8("3U",1Q,1X);y};7(6.x=="Z"){7(6.j==1){7(6.I<w){b.1o(0,0,a.F,a.E);b.h=\'D(J,33,0,1)\';b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(0,0);b.n(p,0);b.n(p,p);b.n(0,p);b.12();b.18();b.l=\'1C o\';b.h="#N";b.1g="1e";b.8("2h",9,1E);b.l=\'1D o\';b.h="#1d";b.8("44",9,19)}q{b.1o(0,0,a.F,a.E);b.h=\'D(w,2n,w,1)\';b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(0,0);b.n(p,0);b.n(p,p);b.n(0,p);b.12();b.13();b.18();b.l=\'1C o\';b.h="#N";b.1g="1e";b.8("2h",9,1E);b.l=\'1D 1Z\';b.h="#1d";b.8(6.r/H+"\\"",9,1V)}};7(6.j==2){b.1o(0,0,a.F,a.E);b.h=\'D(w,2n,w,1)\';b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(0,0);b.n(p,0);b.n(p,p);b.n(0,p);b.12();b.13();b.18();b.l=\'1C o\';b.h="#N";b.1g="1e";b.8("45",9,1E);b.l=\'1D 1Z\';b.h="#1d";b.8(6.r,9,1V)};7(6.j==3){b.1o(0,0,a.F,a.E);b.h=\'D(J,33,0,1)\';b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(0,0);b.n(p,0);b.n(p,p);b.n(0,p);b.12();b.13();b.18();b.l=\'1C o\';b.h="#N";b.1g="1e";b.8("3B",9,1E);b.l=\'1D 1Z\';b.h="#1d";b.8(6.r,9,1V)};7(6.Y){b.Q();b.S(1Q,1U);b.n(2u,1U);b.P=w;b.R=\'#3y\';b.3A=\'3z\';b.13();b.l=\'1B o\';b.h="#3G";b.8("3N！",9,9);b.l=\'3M o\';b.h="#N";b.8("3Q",15,2a);b.8("3P",3I,2a);$("16").A.1J=""}q{b.l=\'G o\';7(6.j==3||6.j==2){b.8("2o "+6.u,9,9)}q{7(!6.1s){b.8("2o "+6.u/H+"\\"",9,9)}}};b.l=\'G o\';b.h="#2f";b.8("24",21,25);b.8("3w",1Q,25);y};1y(k c=0;c<5;c++){k d=1k(6.z/s)+c;k e=6.1l[d];k f=6.z%s-c*s+17;1y(k g=0;g<4;g++){7(6.j==1&&d>=w){b.h=\'D(V,J,V,1)\';}q{7(e==g){7(6.I>1k(6.z/s)+c){b.h=\'D(15,15,15,1)\';}q{b.h=\'D(20,20,20,1)\';}}q{b.h=\'D(J,J,J,1)\';}};b.R=\'14(0,0%,0%)\';b.P=1;b.Q();b.S(g*s,f);b.n(g*s,f+s);b.n(g*s+s,f+s);b.n(g*s+s,f);b.12();b.13();b.18();}};7(6.j==1){7(6.z==0){7(6.11){b.l=\'G o\';b.h="#O";b.8("1R",9,19);b.l=\'1B o\';b.h="#1H";b.8("2y",9,1G);b.8("3R",9,1L);b.l=\'1q o\';b.h="#1u";b.8("0.1i\\"",1p,1r);b.h="#O";b.8("0.1i\\"",9,w)}}q{6.r=(C 22().23())-6.1v;k d=1k(6.r/H);k e=6.r%H+"";7(e.L==1)e="2F"+e;7(e.L==2)e="0"+e;7(e.L!=3)e="1i";k f=d+"."+e+"\\"";b.l=\'1q o\';b.h="#1u";b.8(f,1p,1r);b.h="#O";b.8(f,9,w)}};7(6.j==2){7(6.z==0){7(6.11){b.l=\'G o\';b.h="#O";b.8("1R",9,19);b.l=\'1B o\';b.h="#1H";b.8("3D，3x",9,1G);b.8("3H",9,1L);b.l=\'1q o\';b.h="#1u";b.8("30.1i\\"",1p,1r);b.h="#O";b.8("30.1i\\"",9,w)}}q{k d=3K-(C 22().23())+6.1v;7(d<0)d=0;k e=1k(d/H);k f=d%H+"";7(f.L==1)f="2F"+f;7(f.L==2)f="0"+f;7(f.L!=3)f="1i";k g=e+"."+f+"\\"";b.l=\'1q o\';b.h="#1u";b.8(g,1p,1r);b.h="#O";b.8(g,9,w);7(d==0)6.Z()}};7(6.j==3){7(6.M==0){7(6.11){b.l=\'G o\';b.h="#O";b.8("1R",9,19);b.l=\'1B o\';b.h="#1H";b.8("2y",9,1G);b.8("3L",9,1L)}};6.z+=6.M;b.l=\'1q o\';b.h="#1u";b.8(6.r,1p,1r);b.h="#O";b.8(6.r,9,w)}},3J:0,3O:0,2x:v(a,b){k c=6.1l[6.I]*s;k d=6.z%s+17-(6.I-1k(6.z/s))*s;k e=c+s;k f=d+s;c-=V;d-=V;e+=V;f+=V;7(a>c&&a<e&&b>d&&b<f){7(6.j==3){6.r++;6.I++;7(6.M==0)6.M=10;q 6.M+=1/6.M};7(6.j==1||6.j==2){7(6.z==0){6.1v=C 22().23();6.z+=40}q{6.z+=s};6.I++;7(6.j==1&&6.I==w)6.Z();7(6.j==2)6.r++}}q{7(6.j==1||6.j==2)6.1s=1j;6.Z()}},3E:v(a){},1I:0,1M:0,1w:0,1c:0,3F:v(a,b){6.1I=a;6.1M=b;7(6.x=="T"){6.2x(a,b);y};7(6.x=="X"){7(a>9&&b<9){6.j=3;6.T()};7(a<9&&b<9){6.j=1;6.T()};7(a<9&&b>9){6.j=2;6.T()};7(a>9&&b>9){7(b<3C){6.11=!6.11}q{6.j=2;7(b<46)6.j=1;7(b>47)6.j=3;6.1m()}};y};7(6.x=="Z"){7(a>9&&a<1T&&b>2C&&b<2E){6.T();y};7(a>V&&a<9&&b>2C&&b<2E){6.X();y};7(6.Y&&a>1U&&a<1X&&b>48&&b<49){6.3V()};y};7(6.x=="1O"){7(a<9&&b>1T){6.X()};7(a>9&&b>1T){6.T()}}},3T:v(a,b){a=a-6.1I;b=b-6.1M;6.1w=0;6.1c=0;7(a>0){7(b>a)6.1c=1;q 7(b<0&&-b>a)6.1c=-1;q 6.1w=1}q{7(b>-a)6.1c=1;q 7(b<0&&-b>-a)6.1c=-1;q 6.1w=-1}},3S:v(a,b){},2z:v(a,b){k c=1b;2K{c=C 2H("41.2J");}2I(e){2K{c=C 2H("3Z.2J");}2I(2T){c=1b}};7(!c&&2W 2v!=\'2Z\'){c=C 2v()};7(!b){c.2w("2D",a,1b);c.2B();y c.2A}q{c.2w("2D",a,1j);c.2Y=v(){7(c.2L==4&&c.x==21){b(c.2A)}};c.2B()}},1A:v(a){k b=C 2Q("(^|&)"+a+"=([^&]*)(&|$)","i");k c=3k.34.35.3e(1).3g(b);7(c!=2G)y 3a(c[2]);y 2G}}',62,258,'||||||Game|if|fillText|320||||||||fillStyle||mode|var|font||lineTo|黑体|640|else|score|160||best|function|50|status|return|pos|style|localStorage|new|rgba|height|width|50px|1000|tile|255|getItem|length|speed|FFFFFF|FF0000|lineWidth|beginPath|strokeStyle|moveTo|start|110|80|bestTime|menu|isNewRecord|over||isShowHelp|closePath|stroke|hsl|150|Nickname|480|fill|300|nickname|false|moveY|000000|center|bestScore|textAlign|scale|000|true|parseInt|table|rank|bestStep|clearRect|322|64px|52|isDie|toplist|999999|startTime|moveX|500|for|Canvas|request|40px|60px|120px|120|Array|380|20fa03|mouseX|display|GameBcbkerBest|430|mouseY|GameBcbkerBestTime|ranking|GameBcbkerBestStep|440|不要点到白块儿噢|setItem|550|410|260|100|600|myrank|Arial||200|Date|getTime|返回|580|Game2048Nickname|390|helpStep|resize|422|FPS|draw||help|ffffff|第|经典模式|body|GameBox|run|left|top|190|最佳|经典排行榜|document|禅排行榜|名|街机排行榜|570|XMLHttpRequest|open|hit|点击最下面一行的黑块儿|getUrl|responseText|send|520|GET|620|00|null|ActiveXObject|catch|XMLHTTP|try|readyState|开|news|Math|getContext|RegExp|random|禅|e2|街机|经典|typeof|指引|onreadystatechange|undefined||28px|value||location|search|http|bcbker|com|9g|unescape|clientHeight|clientWidth|240|substr|init|match|result|parse|JSON|window|10000|none|setInterval|code|jsp|server|101|encodeURI|12312|serial|changes|重来|30秒内看你|911503|round|lineCap|街机模式|425|点击最下面的黑块儿|move|touchDown|FFFF00|能点击到多少个黑色块儿|502|moveFrame|30000|不要错过任何黑块儿|36px|新纪录诞生了|newsFrame|提交纪录|您的姓名|越快到达终点越棒|touchUp|touchMove|挑战|submit|关|510|450|Microsoft||Msxml2||30px|败了|禅模式|485|555|385|444'.split('|'),0,{}))

var imgs=new Array();
function $(s){return document.getElementById(s);}
Game.init();

$("Canvas").addEventListener('mousedown', function(event) {
	var x = (event.clientX-(Game.width-640*Game.scale)/2)/Game.scale;
	var y = (event.clientY-(Game.height-640*Game.scale)/2)/Game.scale;
	//Game.touchDown(x,y);	
}, false);    
$("Canvas").addEventListener('mouseup', function(event) {
	var x = (event.clientX-(Game.width-640*Game.scale)/2)/Game.scale;
	var y = (event.clientY-(Game.height-640*Game.scale)/2)/Game.scale;
	Game.touchUp(x,y);
}, false);    
$("Canvas").addEventListener('mousemove', function(event) {
	var x = (event.clientX-(Game.width-640*Game.scale)/2)/Game.scale;
	var y = (event.clientY-(Game.height-640*Game.scale)/2)/Game.scale;
	Game.touchMove(x,y);
}, false);    
$("Canvas").addEventListener('touchstart', function(event) {
	event.preventDefault();// 阻止浏览器默认事件，重要
	var touch = event.targetTouches[0];
	var x = (touch.clientX-(Game.width-640*Game.scale)/2)/Game.scale;
	var y = (touch.clientY-(Game.height-640*Game.scale)/2)/Game.scale;
	Game.touchDown(x,y);
}, false);  

$("Canvas").addEventListener('touchend', function(event) {
	event.preventDefault();// 阻止浏览器默认事件，重要
	var touch = event.changedTouches[0];
	var x = (touch.clientX-(Game.width-640*Game.scale)/2)/Game.scale;
	var y = (touch.clientY-(Game.height-640*Game.scale)/2)/Game.scale;
	Game.touchUp(x,y);
}, false);  
$("Canvas").addEventListener('touchmove', function(event) {
	event.preventDefault();// 阻止浏览器默认事件，重要
	var touch = event.changedTouches[0];
	var x = (touch.clientX-(Game.width-640*Game.scale)/2)/Game.scale;
	var y = (touch.clientY-(Game.height-640*Game.scale)/2)/Game.scale;
	Game.touchMove(x,y);
}, false);  
document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
	WeixinJSBridge.call('hideToolbar');
});
Game.submit = function(){
	if($("Nickname").value==""){
		alert("您还没填写您的姓名");
		return;
	}
	Game.nickname = $("Nickname").value;
	localStorage.setItem("Game2048Nickname",Game.nickname);
	$("Nickname").style.display="none";
	var result = Game.getUrl("http://m.9g.com/bcbker/server.jsp?code=201&mode=" + Game.mode + "&serial=12312&nickname="+encodeURI(Game.nickname)+"&score="+Game.best);
	var r = JSON.parse(result);
	Game.toplist = r.result;
	Game.myrank = r.rank;
	var per = parseInt(  (parseInt(r.allRank)-parseInt(r.rank))*1000/parseInt(r.allRank))/10;
	window.location="share.jsp?rank=" + r.rank + "&nickname=" + encodeURI(encodeURI(Game.nickname)) + "&score="+ Game.score +"&mode=" + Game.mode + "&per="+per;
}


</script>
</html>